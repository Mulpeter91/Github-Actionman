name: 4 - Passing Variables

on:
  push:
    branches: [
        main,
        another-branch
    ]

jobs:
  Run-Composite-Action:
    name: Print message from another action
    runs-on: windows-latest
    
    steps:
      - name: Set variable in run command
        run: |
          export DOJO=Eagle Fang Karake
          echo "::set-env name=DOJO::$FOO"
      
      - name: Print the previous variable
        run: echo $DOJO
      
      - uses: actions/checkout@v2
      - name: Use print message composite action
        uses: ./.github/actions/print-message
        with:                                              # <- With keyword to signify parameters
          message: "Cobra Kai never dies"                  # <- Named parameter in the called action.
          
      - name: Obtain Environment Variables from file
        uses: ./.github/actions/read-env-file
        with:
          filePath: ./.github/variables/variables.env